<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Other | Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/notebook/logo.png">
    <link rel="manifest" href="/notebook/manifest.json">
    <link rel="apple-touch-icon" href="/notebook/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/notebook/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Notebook,ç¬”è®°">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/notebook/assets/css/0.styles.30a3181b.css" as="style"><link rel="preload" href="/notebook/assets/js/app.ae596fb2.js" as="script"><link rel="preload" href="/notebook/assets/js/2.f546fd41.js" as="script"><link rel="preload" href="/notebook/assets/js/14.d332df12.js" as="script"><link rel="preload" href="/notebook/assets/js/3.5194bc92.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.a3ac9f5f.js"><link rel="prefetch" href="/notebook/assets/js/11.dbc06298.js"><link rel="prefetch" href="/notebook/assets/js/12.902b60dd.js"><link rel="prefetch" href="/notebook/assets/js/13.bf7f6b29.js"><link rel="prefetch" href="/notebook/assets/js/15.5eff2cbe.js"><link rel="prefetch" href="/notebook/assets/js/16.8c5e9eda.js"><link rel="prefetch" href="/notebook/assets/js/17.cb26da37.js"><link rel="prefetch" href="/notebook/assets/js/18.a42eef60.js"><link rel="prefetch" href="/notebook/assets/js/19.ff9bfae5.js"><link rel="prefetch" href="/notebook/assets/js/4.e3e1e6db.js"><link rel="prefetch" href="/notebook/assets/js/5.0d10e945.js"><link rel="prefetch" href="/notebook/assets/js/6.73bbcf8d.js"><link rel="prefetch" href="/notebook/assets/js/7.f32cee4a.js"><link rel="prefetch" href="/notebook/assets/js/8.b9a58496.js"><link rel="prefetch" href="/notebook/assets/js/9.3bd47329.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.30a3181b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notebook/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/notebook/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/notebook/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/notebook/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/notebook/html/" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/notebook/css/" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/notebook/interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/notebook/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Other
</a></div><div class="nav-item"><a href="/notebook/components/" class="nav-link">
  ç»„ä»¶
</a></div><div class="nav-item"><a href="https://github.com/BurNing1993/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notebook/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/notebook/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/notebook/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/notebook/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/notebook/html/" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/notebook/css/" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/notebook/interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/notebook/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Other
</a></div><div class="nav-item"><a href="/notebook/components/" class="nav-link">
  ç»„ä»¶
</a></div><div class="nav-item"><a href="https://github.com/BurNing1993/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Other</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/other/#ä»£ç è§„èŒƒ" class="sidebar-link">ä»£ç è§„èŒƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#editorconfig" class="sidebar-link">EditorConfig</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#prettier" class="sidebar-link">Prettier</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#eslint" class="sidebar-link">ESLint</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#prettier-å’Œ-eslint-çš„å†²çª" class="sidebar-link">Prettier å’Œ ESLint çš„å†²çª</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#husky-lint-staged" class="sidebar-link">husky &amp; lint-staged</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#lint-staged" class="sidebar-link">lint-staged</a></li></ul></li><li><a href="/notebook/other/#git-æäº¤è§„èŒƒ" class="sidebar-link">Git æäº¤è§„èŒƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#angular-commit-message-æ ¼å¼è§„èŒƒ" class="sidebar-link">Angular commit message æ ¼å¼è§„èŒƒ</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#commitizen" class="sidebar-link">Commitizen</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ" class="sidebar-link">é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ</a></li></ul></li><li><a href="/notebook/other/#vscode" class="sidebar-link">VSCode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#jsdoc" class="sidebar-link">JSDoc</a></li></ul></li><li><a href="/notebook/other/#eslint-é…ç½®" class="sidebar-link">ESLINT é…ç½®</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#å‘å¸ƒ-npm-åŒ…" class="sidebar-link">å‘å¸ƒ NPM åŒ…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#ç™»å½•" class="sidebar-link">ç™»å½•</a></li></ul></li><li><a href="/notebook/other/#nginx" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#docker" class="sidebar-link">Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#å¸¸ç”¨å‘½ä»¤" class="sidebar-link">å¸¸ç”¨å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#dockerfile" class="sidebar-link">Dockerfile</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#ç½‘ç»œ" class="sidebar-link">ç½‘ç»œ</a></li></ul></li><li><a href="/notebook/other/#github-gh-page-action" class="sidebar-link">Github gh-page Action</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#github-gh-pages-deploy" class="sidebar-link">Github gh-pages deploy</a></li></ul></li><li><a href="/notebook/other/#shell" class="sidebar-link">Shell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#æ¨¡æ‹Ÿæ•°æ®" class="sidebar-link">æ¨¡æ‹Ÿæ•°æ®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#mock-js-json-server" class="sidebar-link">Mock.js + json-server</a></li></ul></li><li><a href="/notebook/other/#nginx-ç¼“å­˜é…ç½®" class="sidebar-link">Nginx ç¼“å­˜é…ç½®</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#å¯ç”¨ç¼“å­˜" class="sidebar-link">å¯ç”¨ç¼“å­˜</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#ç¦ç”¨ç¼“å­˜" class="sidebar-link">ç¦ç”¨ç¼“å­˜</a></li></ul></li><li><a href="/notebook/other/#springbootapp" class="sidebar-link">SpringBootApp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#vercel-proxy" class="sidebar-link">vercel proxy</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="other"><a href="#other" class="header-anchor">#</a> Other</h1> <h2 id="ä»£ç è§„èŒƒ"><a href="#ä»£ç è§„èŒƒ" class="header-anchor">#</a> ä»£ç è§„èŒƒ</h2> <h3 id="editorconfig"><a href="#editorconfig" class="header-anchor">#</a> EditorConfig</h3> <blockquote><p><a href="https://editorconfig.org/" target="_blank" rel="noopener noreferrer">https://editorconfig.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>.editorconfig</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># Editor configuration, see http://editorconfig.org</span>

<span class="token comment"># è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶</span>
root <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span>*<span class="token punctuation">]</span> <span class="token comment"># è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨</span>
charset <span class="token operator">=</span> utf-8 <span class="token comment"># è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8</span>
indent_style <span class="token operator">=</span> space <span class="token comment"># ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰</span>
indent_size <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment"># ç¼©è¿›å¤§å°</span>
end_of_line <span class="token operator">=</span> lf <span class="token comment"># æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)</span>
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment"># å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦</span>
insert_final_newline <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment"># å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ</span>

<span class="token punctuation">[</span>*.md<span class="token punctuation">]</span> <span class="token comment"># è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™</span>
max_line_length <span class="token operator">=</span> off
trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><h3 id="prettier"><a href="#prettier" class="header-anchor">#</a> Prettier</h3> <blockquote><p><a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">https://prettier.io/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>install</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i prettier -D
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> -D prettier
</code></pre></div><ul><li><a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener noreferrer">é…ç½® .prettierrc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>æ ¼å¼åŒ–</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶ï¼ˆ. è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼‰</span>
npx prettier --write <span class="token builtin class-name">.</span>
</code></pre></div><h3 id="eslint"><a href="#eslint" class="header-anchor">#</a> ESLint</h3> <ul><li>install</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i eslint -D <span class="token comment"># npm</span>
<span class="token function">yarn</span> <span class="token function">add</span> -D eslint <span class="token comment"># yarn1</span>
</code></pre></div><ul><li>é…ç½®</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>npx eslint --init
</code></pre></div><p>æ‰§è¡Œå‘½ä»¤,ç”Ÿæˆé…ç½®</p> <h3 id="prettier-å’Œ-eslint-çš„å†²çª"><a href="#prettier-å’Œ-eslint-çš„å†²çª" class="header-anchor">#</a> Prettier å’Œ ESLint çš„å†²çª</h3> <ul><li>install</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i eslint-plugin-prettier eslint-config-prettier -D <span class="token comment"># npm</span>
<span class="token function">yarn</span> <span class="token function">add</span> -D  eslint-plugin-prettier eslint-config-prettier <span class="token comment"># yarn1</span>
</code></pre></div><ul><li>é…ç½®</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .eslintrc.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>
    <span class="token string">'airbnb-base'</span><span class="token punctuation">,</span>
    <span class="token string">'plugin:prettier/recommended'</span> <span class="token comment">// æ·»åŠ  prettier æ’ä»¶</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Prettier é…ç½®è§„åˆ™ &gt; ESLint é…ç½®è§„åˆ™</p></blockquote> <p>æ‰§è¡Œ eslint --fix å‘½ä»¤æ—¶ï¼ŒESLint å°±ä¼šæŒ‰ç…§ Prettier çš„é…ç½®è§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç </p> <h3 id="husky-lint-staged"><a href="#husky-lint-staged" class="header-anchor">#</a> husky &amp; lint-staged</h3> <blockquote><p><a href="https://typicode.github.io/husky/#/?id=usage" target="_blank" rel="noopener noreferrer">husky<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> â€”â€” Git Hook å·¥å…·ï¼Œå¯ä»¥è®¾ç½®åœ¨ git å„ä¸ªé˜¶æ®µï¼ˆpre-commitã€commit-msgã€pre-push ç­‰ï¼‰è§¦å‘æˆ‘ä»¬çš„å‘½ä»¤ã€‚
<a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> â€”â€” åœ¨ git æš‚å­˜çš„æ–‡ä»¶ä¸Šè¿è¡Œ lintersã€‚</p></blockquote> <h4 id="husky-è‡ªåŠ¨é…ç½®"><a href="#husky-è‡ªåŠ¨é…ç½®" class="header-anchor">#</a> husky è‡ªåŠ¨é…ç½®</h4> <ul><li>åˆå§‹åŒ–</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>npx husky-init <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> <span class="token function">install</span>       <span class="token comment"># npm</span>
npx husky-init <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span>              <span class="token comment"># Yarn 1</span>
</code></pre></div><ul><li>é…ç½®,ä¿®æ”¹ .husky/pre-commit</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># .husky/pre-commit</span>
eslint --fix ./src --ext .vue,.js,.ts
</code></pre></div><h3 id="lint-staged"><a href="#lint-staged" class="header-anchor">#</a> lint-staged</h3> <ul><li>å®‰è£…</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i lint-staged -D <span class="token comment">#npm</span>
<span class="token function">yarn</span> <span class="token function">add</span> lint-staged -D <span class="token comment">#yarn1</span>
</code></pre></div><ul><li>é…ç½®</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// package.json å¢åŠ </span>
<span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;*.{vue,js,ts}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --fix&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ul><li>é…ç½® husky</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># ä¿®æ”¹ .husky/pre-commit</span>
npx lint-staged
</code></pre></div><h2 id="git-æäº¤è§„èŒƒ"><a href="#git-æäº¤è§„èŒƒ" class="header-anchor">#</a> Git æäº¤è§„èŒƒ</h2> <h3 id="angular-commit-message-æ ¼å¼è§„èŒƒ"><a href="#angular-commit-message-æ ¼å¼è§„èŒƒ" class="header-anchor">#</a> Angular commit message æ ¼å¼è§„èŒƒ</h3> <blockquote><p><a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit" target="_blank" rel="noopener noreferrer">Angular é¡¹ç›®æäº¤ä¿¡æ¯æ ¼å¼<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>commit message ç”± Headerã€Bodyã€Footer ç»„æˆã€‚</p> <div class="language-txt extra-class"><pre class="language-text"><code>&lt;header&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
</code></pre></div><ul><li>Header éƒ¨åˆ†åŒ…æ‹¬ä¸‰ä¸ªå­—æ®µ typeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œ subjectï¼ˆå¿…éœ€ï¼‰ã€‚</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>: <span class="token operator">&lt;</span>short summary<span class="token operator">&gt;</span>
  â”‚       â”‚             â”‚
  â”‚       â”‚             â””â”€â«¸ Summary <span class="token keyword">in</span> present tense. Not capitalized. No period at the end.
  â”‚       â”‚
  â”‚       â””â”€â«¸ Commit Scope: <span class="token operator">|</span>common<span class="token operator">|</span>core<span class="token operator">|</span>forms<span class="token operator">|</span>router<span class="token operator">|</span>service-worker<span class="token operator">|</span>changelog<span class="token operator">|</span>docs<span class="token operator">|</span>
  â”‚
  â””â”€â«¸ Commit Type: build<span class="token operator">|</span>ci<span class="token operator">|</span>docs<span class="token operator">|</span>feat<span class="token operator">|</span>fix<span class="token operator">|</span>perf<span class="token operator">|</span>refactor<span class="token operator">|</span><span class="token builtin class-name">test</span>
</code></pre></div><ul><li><p>body æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚ï¼ˆbody å¯çœç•¥ï¼‰è·Ÿ subject ç±»ä¼¼ï¼Œç”¨åŠ¨è¯å¼€å¤´ï¼Œbody åº”è¯¥è¯´æ˜ä¿®æ”¹çš„åŸå› å’Œæ›´æ”¹å‰åçš„è¡Œä¸ºå¯¹æ¯”ã€‚</p></li> <li><p>footer æ˜¯å¯é€‰çš„.</p></li></ul> <h3 id="commitizen"><a href="#commitizen" class="header-anchor">#</a> <a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noopener noreferrer">Commitizen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <blockquote><p>Commitizen æ˜¯ä¸€ä¸ªå¸®åŠ©æ’°å†™è§„èŒƒ commit message çš„å·¥å…·ã€‚å®ƒæœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…· cz-cliã€‚</p></blockquote> <ul><li>å®‰è£…</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> commitizen -D
<span class="token function">yarn</span> <span class="token function">add</span> -D commitizen
</code></pre></div><ul><li>åˆå§‹åŒ–</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>npx commitizen init cz-conventional-changelog --save-dev --save-exact
npx commitizen init cz-conventional-changelog --yarn --dev --exact
</code></pre></div><ul><li>ä½¿ç”¨ Commitizen</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> cz
</code></pre></div><ul><li>cz-customizable è‡ªå®šä¹‰é…ç½®æäº¤è¯´æ˜</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>npx commitizen init cz-customizable --save-dev --save-exact --force
</code></pre></div><h3 id="é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ"><a href="#é›†æˆ-commitlint-éªŒè¯æäº¤è§„èŒƒ" class="header-anchor">#</a> é›†æˆ commitlint éªŒè¯æäº¤è§„èŒƒ</h3> <ul><li>å®‰è£…</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> i @commitlint/config-conventional @commitlint/cli -D
<span class="token function">yarn</span> <span class="token function">add</span> -D  @commitlint/config-conventional @commitlint/cli
</code></pre></div><ul><li>é…ç½® commitlint.config.js</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span> extends: <span class="token punctuation">[</span><span class="token string">'@commitlint/config-conventional'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>

</code></pre></div><ul><li>ä½¿ç”¨ husky çš„ commit-msg hook è§¦å‘éªŒè¯æäº¤ä¿¡æ¯çš„å‘½ä»¤</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&quot;npx --no-install commitlint --edit <span class="token variable">$1</span>&quot;</span>
</code></pre></div><h2 id="vscode"><a href="#vscode" class="header-anchor">#</a> VSCode</h2> <h3 id="jsdoc"><a href="#jsdoc" class="header-anchor">#</a> <a href="https://jsdoc.app/index.html" target="_blank" rel="noopener noreferrer">JSDoc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//@ts-check</span>

<span class="token comment">/** @type {import('playwright').Page} */</span>
<span class="token keyword">let</span> page<span class="token punctuation">;</span>
</code></pre></div><ul><li><a href="https://jsdoc.app/tags-type.html" target="_blank" rel="noopener noreferrer">@type<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** @type {(string|Array.)} */</span>
<span class="token keyword">var</span> foo<span class="token punctuation">;</span>
<span class="token comment">/** @const {number} */</span>
<span class="token keyword">var</span> <span class="token constant">FOO</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><a href="https://jsdoc.app/tags-typedef.html" target="_blank" rel="noopener noreferrer">@typedef<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * A number, or a string containing a number.
 * @typedef {(number|string)} NumberLike
 */</span>

<span class="token comment">/**
 * Set the magic number.
 * @param {NumberLike} x - The magic number.
 */</span>
<span class="token keyword">function</span> <span class="token function">setMagicNumber</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="eslint-é…ç½®"><a href="#eslint-é…ç½®" class="header-anchor">#</a> ESLINT é…ç½®</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//.eslintrc.js</span>
rules<span class="token operator">:</span><span class="token punctuation">{</span>
  semi<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//åˆ†å·</span>
  <span class="token string">'comma-dangle'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//é€—å·(ä»…å¤šè¡Œ)</span>
  <span class="token string">'space-before-function-paren'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;named&quot;</span><span class="token operator">:</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;asyncArrow&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//æ–¹æ³•å‰ç©ºæ ¼</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å‘å¸ƒ-npm-åŒ…"><a href="#å‘å¸ƒ-npm-åŒ…" class="header-anchor">#</a> å‘å¸ƒ NPM åŒ…</h2> <h3 id="ç™»å½•"><a href="#ç™»å½•" class="header-anchor">#</a> ç™»å½•</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> login
</code></pre></div><ul><li>æŸ¥çœ‹è´¦å·</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">whoami</span>
</code></pre></div><ul><li>ç‰ˆæœ¬ç®¡ç†</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> version patch <span class="token comment"># å‡çº§ä¿®è®¢ç‰ˆæœ¬å·</span>
<span class="token function">npm</span> version minor <span class="token comment"># å‡çº§æ¬¡ç‰ˆæœ¬å·</span>
<span class="token function">npm</span> version major <span class="token comment"># å‡çº§ä¸»ç‰ˆæœ¬å·</span>
</code></pre></div><h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h2> <ol><li>é™æ€èµ„æºä»£ç†</li></ol> <ul><li>åŸºæœ¬é…ç½®</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen       <span class="token number">8888</span><span class="token punctuation">;</span>        <span class="token comment">#ç«¯å£</span>
  server_name  localhost<span class="token punctuation">;</span>   <span class="token comment">#æœåŠ¡å</span>
  root  html<span class="token punctuation">;</span>               <span class="token comment">#æ˜¾ç¤ºçš„æ ¹ç´¢å¼•ç›®å½•</span>
  autoindex on<span class="token punctuation">;</span>             <span class="token comment">#å¼€å¯ç´¢å¼•åŠŸèƒ½</span>
  autoindex_exact_size off<span class="token punctuation">;</span> <span class="token comment">#å…³é—­è®¡ç®—æ–‡ä»¶ç¡®åˆ‡å¤§å°ï¼ˆå•ä½bytesï¼‰ï¼Œåªæ˜¾ç¤ºå¤§æ¦‚å¤§å°ï¼ˆå•ä½kbã€mbã€gbï¼‰</span>
  autoindex_localtime on<span class="token punctuation">;</span>   <span class="token comment">#æ˜¾ç¤ºæœ¬æœºæ—¶é—´è€ŒéGMTæ—¶é—´</span>
<span class="token punctuation">}</span>
docker run <span class="token punctuation">\</span>
--rm <span class="token punctuation">\</span>
--name static <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/html&quot;</span>:/usr/share/nginx/html <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/conf&quot;</span>:/etc/nginx
-p <span class="token number">8888</span>:80 <span class="token punctuation">\</span>
-d <span class="token punctuation">\</span>
nginx
</code></pre></div><ul><li>è®¾ç½®å¯†ç </li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>htpasswd å‘½ä»¤æ˜¯ Apache çš„ Web æœåŠ¡å™¨å†…ç½®å·¥å…·ï¼Œç”¨äºåˆ›å»ºå’Œæ›´æ–°å‚¨å­˜ç”¨æˆ·åã€åŸŸå’Œç”¨æˆ·åŸºæœ¬è®¤è¯çš„å¯†ç æ–‡ä»¶ã€‚</p></div> <p>htpasswd(é€‰é¡¹)(å‚æ•°)</p> <div class="language-sh extra-class"><pre class="language-sh"><code>-cï¼šåˆ›å»ºä¸€ä¸ªåŠ å¯†æ–‡ä»¶ï¼›
-nï¼šä¸æ›´æ–°åŠ å¯†æ–‡ä»¶ï¼Œåªå°†åŠ å¯†åçš„ç”¨æˆ·åå¯†ç æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼›
-mï¼šé»˜è®¤é‡‡ç”¨MD5ç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼›
-dï¼šé‡‡ç”¨CRYPTç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼›
-pï¼šä¸å¯¹å¯†ç è¿›è¡Œè¿›è¡ŒåŠ å¯†ï¼Œå³æ˜æ–‡å¯†ç ï¼›
-sï¼šé‡‡ç”¨SHAç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†ï¼›
-bï¼šåœ¨å‘½ä»¤è¡Œä¸­ä¸€å¹¶è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è€Œä¸æ˜¯æ ¹æ®æç¤ºè¾“å…¥å¯†ç ï¼›
-Dï¼šåˆ é™¤æŒ‡å®šçš„ç”¨æˆ·ã€‚
</code></pre></div><p>å®ä¾‹</p> <div class="language-sh extra-class"><pre class="language-sh"><code>htpasswd -bc passwd.db admin  <span class="token number">123456</span> <span class="token comment">#åœ¨ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªpasswd.dbæ–‡ä»¶ï¼Œç”¨æˆ·åadminï¼Œå¯†ç ï¼š123456ï¼Œé»˜è®¤é‡‡ç”¨MD5åŠ å¯†æ–¹å¼ã€‚</span>
htpasswd -b passwd.db  user <span class="token number">123456</span> <span class="token comment">#åœ¨åŸæœ‰å¯†ç æ–‡ä»¶ä¸­å¢åŠ ä¸‹ä¸€ä¸ªç”¨æˆ·</span>
</code></pre></div><p>Nginx é…ç½®</p> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen  <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  localhost<span class="token punctuation">;</span>
  charset utf-8<span class="token punctuation">;</span>
  root html<span class="token punctuation">;</span>
  location / <span class="token punctuation">{</span>
      autoindex on<span class="token punctuation">;</span> <span class="token comment"># ç´¢å¼•</span>
      autoindex_exact_size on<span class="token punctuation">;</span> <span class="token comment"># æ˜¾ç¤ºæ–‡ä»¶å¤§å°</span>
      autoindex_localtime on<span class="token punctuation">;</span> <span class="token comment"># æ˜¾ç¤ºæ–‡ä»¶æ—¶é—´</span>
      auth_basic <span class="token string">&quot;è¯·è¾“å…¥ç”¨æˆ·åå¯†ç &quot;</span><span class="token punctuation">;</span>
      auth_basic_user_file /usr/share/nginx/passwd.db<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
docker run <span class="token punctuation">\</span>
--rm <span class="token punctuation">\</span>
--name static <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/html&quot;</span>:/usr/share/nginx/html <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/conf&quot;</span>:/etc/nginx <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/passwd.db&quot;</span>:/usr/share/nginx/passwd.db <span class="token punctuation">\</span>
-p <span class="token number">8888</span>:80 <span class="token punctuation">\</span>
-d <span class="token punctuation">\</span>
nginx
</code></pre></div><ul><li>é˜²ç›—é“¾<div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>å¦‚æœæœåŠ¡å™¨çš„å›¾ç‰‡è¢«åˆ«çš„ç½‘ç«™ç›—é“¾ï¼Œå°†å½±å“æœåŠ¡å™¨çš„å¸¦å®½ä»¥åŠè®¿é—®é€Ÿåº¦ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦è®¾ç½®å›¾ç‰‡æ–‡ä»¶æˆ–è§†é¢‘æ–‡ä»¶çš„é˜²ç›—é“¾åŠŸèƒ½ã€‚</p></div></li></ul> <p>é˜²ç›—é“¾åŠŸèƒ½ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä½ å¯ä»¥ç›´æ¥è®¿é—®è¯¥èµ„æºï¼Œä½†æ˜¯ä¸èƒ½å°†æˆ‘çš„èµ„æºé“¾æ¥æ”¾åˆ°ä½ è‡ªå·±çš„æœåŠ¡å™¨ä¸Šè®©åˆ«äººè®¿é—®ï¼Œå°¤å…¶æ˜¯å›¾ç‰‡æˆ–è§†é¢‘è¿™ç§æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå®¹æ˜“å¯¼è‡´æœåŠ¡å™¨å“åº”å¾ˆæ…¢ã€‚</p> <p>è¦å®ç°é˜²ç›—é“¾ï¼Œéœ€è¦äº†è§£ HTTP åè®®ä¸­çš„è¯·æ±‚å¤´éƒ¨çš„ Referer å¤´åŸŸå’Œé‡‡ç”¨ URL çš„æ ¼å¼è¡¨ç¤ºè®¿é—®å½“å‰ç½‘é¡µæˆ–è€…æ–‡ä»¶çš„æºåœ°å€ã€‚é€šè¿‡è¯¥å¤´åŸŸçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹åˆ°è®¿é—®ç›®æ ‡èµ„æºçš„æºåœ°å€ã€‚è¿™æ ·ï¼Œå¦‚æœæˆ‘ä»¬æ£€æµ‹åˆ° Referer å¤´åŸŸä¸­çš„å€¼å¹¶ä¸æ˜¯è‡ªå·±ç«™ç‚¹å†…çš„ URLï¼Œå°±é‡‡å–ç»„ç»‡æªæ–½ï¼Œå®ç°é˜²ç›—é“¾ã€‚éœ€è¦æ³¨æ„æ˜¯ï¼Œç”±äº Referer å¤´åŸŸä¸­çš„å€¼å¯ä»¥è¢«æ›´æ”¹çš„ï¼Œå› æ­¤è¯¥æ–¹æ³•ä¸èƒ½å®Œå…¨é˜»æ­¢æ‰€æœ‰ç›—é“¾è¡Œä¸ºã€‚
:::</p> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen  <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  xxx.com<span class="token punctuation">;</span>
  charset utf-8<span class="token punctuation">;</span>
  root /static<span class="token punctuation">;</span>
  <span class="token comment">#locationæŒ‡ä»¤ç”¨æ¥æ˜ å°„è¯·æ±‚åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</span>
  location ~*^.+<span class="token punctuation">\</span>.<span class="token punctuation">(</span>gif<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>jpeg<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
  expires     30d<span class="token punctuation">;</span>
  valid_referers none blocked  xxx.com<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$invalid_referer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">#return 403;</span>
      rewrite ^/ http://xxx/403.html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Nginx é…ç½®ä¸­æœ‰ä¸€ä¸ªæŒ‡ä»¤ valid_referersï¼Œç”¨æ¥è·å– Referer å¤´åŸŸä¸­çš„å€¼ï¼Œå¹¶ä¸”æ ¹æ®è¯¥å€¼çš„æƒ…å†µç»™ Nginx å…¨å±€å˜é‡$invalid_refererçš„å€¼ï¼Œå¦‚æœRefererå¤´åŸŸä¸­æ²¡æœ‰ç¬¦åˆvalid_referersæŒ‡ä»¤é…ç½®çš„å€¼ï¼Œ$invalid_referer å˜é‡å°†ä¼šè¢«èµ‹å€¼ä¸º 1ã€‚</p></div> <p>valid_referer æŒ‡ä»¤çš„è¯­æ³•ç»“æ„:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>valid_referers none <span class="token operator">|</span> blocked <span class="token operator">|</span> server_names <span class="token operator">|</span> string <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">;</span>
none æ£€æµ‹Refererå¤´åŸŸä¸å­˜åœ¨çš„è¯·æ±‚
blocked æ£€æµ‹Refererå¤´åŸŸçš„å€¼è¢«é˜²ç«å¢™æˆ–è€…ä»£ç†æœåŠ¡å™¨åˆ é™¤æˆ–ä¼ªè£…çš„æƒ…å†µã€‚
è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥å¤´åŸŸçš„å€¼ä¸ä»¥â€œhttp://â€æˆ–è€…â€œhttpsï¼š//â€å¼€å¤´
server_names è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªURL,æ£€æµ‹Refererå¤´åŸŸçš„å€¼æ˜¯å¦æ˜¯è¿™äº›URLä¸­çš„æŸä¸ªã€‚
</code></pre></div><h2 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h2> <blockquote><p><a href="http://docs.nigeerhuo.com/docker/" target="_blank" rel="noopener noreferrer">Docker ç»¿çš®ä¹¦<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h3> <ul><li><p><a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">centos<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">ubuntu<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="header-anchor">#</a> å¸¸ç”¨å‘½ä»¤</h3> <ol><li>docker images é•œåƒåˆ—è¡¨</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker images <span class="token comment">#é•œåƒåˆ—è¡¨</span>
-a <span class="token comment">#åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼ˆå«ä¸­é—´æ˜ åƒå±‚ï¼‰</span>
-q <span class="token comment">#åªæ˜¾ç¤ºé•œåƒIDã€‚</span>
--digests <span class="token comment">#æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯</span>
--no-trunc <span class="token comment"># æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯</span>
</code></pre></div><ol start="2"><li>docker search xx æœç´¢é•œåƒ</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker search tomcat <span class="token comment"># æœç´¢tomcaté•œåƒ</span>
----filter <span class="token assign-left variable">stars</span><span class="token operator">=</span>num
docker search --filter <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">30</span> tomcat <span class="token comment"># æœç´¢start&gt;30çš„tomcaté•œåƒ</span>
</code></pre></div><ol start="3"><li>docker pull image [:TAG]</li></ol> <ol start="4"><li>docker rmi imageID åˆ é™¤é•œåƒ</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -qa<span class="token variable">)</span></span> <span class="token comment"># åˆ é™¤å…¨éƒ¨é•œåƒ</span>
</code></pre></div><h3 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h3> <p>Dockerfile æ˜¯ç”¨æ¥æ„å»º Docker é•œåƒçš„æ„å»ºæ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬ã€‚</p> <h4 id="æ„å»ºæ­¥éª¤"><a href="#æ„å»ºæ­¥éª¤" class="header-anchor">#</a> æ„å»ºæ­¥éª¤</h4> <ul><li>ç¼–å†™ Dockerfile æ–‡ä»¶</li> <li>docker build [-f DockerfilePath] -t imageName:tag .</li></ul> <h4 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="header-anchor">#</a> å…³é”®å­—</h4> <ul><li>FROM åŸºç¡€é•œåƒï¼Œå½“å‰æ–°é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„</li> <li>MAINTAINER é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€</li> <li>RUN å®¹å™¨æ„å»ºæ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤</li> <li>EXPOSE å½“å‰å®¹å™¨å¯¹å¤–æš´éœ²å‡ºçš„ç«¯å£</li> <li>WORKDIR æŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»é™†çš„è¿›æ¥å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹</li> <li>ENV ç”¨æ¥åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</li> <li>ADD å°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸” ADD å‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç† URL å’Œè§£å‹ tar å‹ç¼©åŒ…</li> <li>COPY å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­ &lt;æºè·¯å¾„&gt; çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„ &lt;ç›®æ ‡è·¯å¾„&gt; ä½ç½®</li> <li>VOLUME å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ</li> <li>CMD æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ Dockerfile ä¸­å¯ä»¥æœ‰å¤šä¸ª CMD æŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼ŒCMD ä¼šè¢« docker run ä¹‹åçš„å‚æ•°æ›¿æ¢</li> <li>ENTRYPOINTâ€‹ æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ ENTRYPOINT çš„ç›®çš„å’Œ CMD ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°</li> <li>ONBUILD å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„ Dockerfile æ—¶è¿è¡Œå‘½ä»¤ï¼Œçˆ¶é•œåƒåœ¨è¢«å­ç»§æ‰¿åçˆ¶é•œåƒçš„ onbuild è¢«è§¦å‘</li></ul> <h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="header-anchor">#</a> ç½‘ç»œ</h3> <h4 id="docker-å®¹å™¨äº’è®¿"><a href="#docker-å®¹å™¨äº’è®¿" class="header-anchor">#</a> <a href="https://www.cnblogs.com/shenh/p/9714547.html" target="_blank" rel="noopener noreferrer">Docker å®¹å™¨äº’è®¿<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h2 id="github-gh-page-action"><a href="#github-gh-page-action" class="header-anchor">#</a> <a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener noreferrer">Github gh-page Action<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ol><li>react<div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>éœ€è¦ç”Ÿæˆéœ€è¦ GitHub å¯†é’¥,å­˜å‚¨åœ¨ Secrets.ACCESS_TOKEN ä¸­</p></div></li></ol> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># .github/workflows/gh-pages.yml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> GitHub Page Actions
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> master
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout ğŸ›ï¸
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Node
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&quot;16&quot;</span>
          <span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token string">&quot;npm&quot;</span> <span class="token comment"># yarn</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies and build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          npm install 
          npm run build</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@v4
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages <span class="token comment"># The branch the action should deploy to.</span>
          <span class="token key atrule">folder</span><span class="token punctuation">:</span> docs/.vuepress/dist <span class="token comment"># The folder the action should deploy.</span>
</code></pre></div><h3 id="github-gh-pages-deploy"><a href="#github-gh-pages-deploy" class="header-anchor">#</a> Github gh-pages deploy</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> --dev  gh-pages
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//package.json  homepage</span>
<span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://xxx.github.io/project_name/&quot;</span><span class="token punctuation">,</span>
<span class="token comment">//  package.json  scripts +</span>
<span class="token property">&quot;predeploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn build&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gh-pages -d build&quot;</span> <span class="token comment">// build folder</span>
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> deploy
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>build fail åˆ‡æ¢ä¸‹åˆ†æ”¯å†åˆ‡å›å»</p></div> <h2 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h2> <ol><li>å®šä¹‰å˜é‡</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;Joey&quot;</span>
</code></pre></div><ul><li><p>å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</p></li> <li><p>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚</p></li> <li><p>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚</p></li> <li><p>ä¸èƒ½ä½¿ç”¨ bash é‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨ help å‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</p></li></ul> <ol start="2"><li>ä½¿ç”¨å˜é‡</li></ol> <h2 id="æ¨¡æ‹Ÿæ•°æ®"><a href="#æ¨¡æ‹Ÿæ•°æ®" class="header-anchor">#</a> æ¨¡æ‹Ÿæ•°æ®</h2> <h3 id="mock-js-json-server"><a href="#mock-js-json-server" class="header-anchor">#</a> Mock.js + json-server</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer">Mock.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/typicode/json-server#getting-started" target="_blank" rel="noopener noreferrer">json-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h2 id="nginx-ç¼“å­˜é…ç½®"><a href="#nginx-ç¼“å­˜é…ç½®" class="header-anchor">#</a> <a href="https://www.digitalocean.com/community/tools/nginx" target="_blank" rel="noopener noreferrer">Nginx ç¼“å­˜é…ç½®<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <h3 id="å¯ç”¨ç¼“å­˜"><a href="#å¯ç”¨ç¼“å­˜" class="header-anchor">#</a> å¯ç”¨ç¼“å­˜</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>server<span class="token punctuation">{</span>
  <span class="token punctuation">..</span>.
  <span class="token comment"># assets</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:css<span class="token punctuation">(</span><span class="token punctuation">\</span>.map<span class="token punctuation">)</span>?<span class="token operator">|</span>js<span class="token punctuation">(</span><span class="token punctuation">\</span>.map<span class="token punctuation">)</span>?<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    expires 3h<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># media</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:jpe?g<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>ico<span class="token operator">|</span>cur<span class="token operator">|</span>heic<span class="token operator">|</span>webp<span class="token operator">|</span>tiff?<span class="token operator">|</span>mp3<span class="token operator">|</span>m4a<span class="token operator">|</span>aac<span class="token operator">|</span>ogg<span class="token operator">|</span>midi?<span class="token operator">|</span>wav<span class="token operator">|</span>mp4<span class="token operator">|</span>mov<span class="token operator">|</span>webm<span class="token operator">|</span>mpe?g<span class="token operator">|</span>avi<span class="token operator">|</span>ogv<span class="token operator">|</span>flv<span class="token operator">|</span>wmv<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    expires 7d<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># svg, fonts</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:svgz?<span class="token operator">|</span>ttf<span class="token operator">|</span>ttc<span class="token operator">|</span>otf<span class="token operator">|</span>eot<span class="token operator">|</span>woff2?<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    add_header Access-Control-Allow-Origin <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>
    expires 7d<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ç¦ç”¨ç¼“å­˜"><a href="#ç¦ç”¨ç¼“å­˜" class="header-anchor">#</a> ç¦ç”¨ç¼“å­˜</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>server<span class="token punctuation">{</span>
  <span class="token punctuation">..</span>.
  location ~ .*<span class="token punctuation">\</span>.<span class="token punctuation">(</span>gif<span class="token operator">|</span>jpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>png<span class="token operator">|</span>bmp<span class="token operator">|</span>swf<span class="token operator">|</span>js<span class="token operator">|</span>css<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
  <span class="token comment">#ç¦æ­¢ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½ä»æœåŠ¡å™¨è¯·æ±‚</span>
    add_header Cache-Control no-store<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="springbootapp"><a href="#springbootapp" class="header-anchor">#</a> SpringBootApp</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># æ‰“åŒ…</span>
<span class="token builtin class-name">cd</span> é¡¹ç›®è·Ÿç›®å½•ï¼ˆå’Œpom.xmlåŒçº§ï¼‰
mvn clean package
<span class="token comment">## æˆ–è€…æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</span>
<span class="token comment">## æ’é™¤æµ‹è¯•ä»£ç åè¿›è¡Œæ‰“åŒ…</span>
mvn clean package  -Dmaven.test.skip<span class="token operator">=</span>true
<span class="token comment">#  æŒ‡å®šç«¯å£</span>
java -jar app.jar  --server.port<span class="token operator">=</span><span class="token number">8000</span>
<span class="token comment"># åå°è¿è¡Œ</span>
<span class="token function">nohup</span> java -jar XXX.jar <span class="token operator">&amp;</span>
<span class="token comment">#  é€‰æ‹©è¯»å–ä¸åŒçš„é…ç½®æ–‡ä»¶</span>
java -jar app.jar --spring.profiles.active<span class="token operator">=</span>dev
<span class="token comment"># è®¾ç½® jvm å‚æ•°</span>
java -Xms10m -Xmx80m -jar app.jar <span class="token operator">&amp;</span>
</code></pre></div><h2 id="vercel-proxy"><a href="#vercel-proxy" class="header-anchor">#</a> <a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">vercel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> proxy</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// vercel.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;rewrites&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/(.*)&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/proxy&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// /api/proxy.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> createProxyMiddleware <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http-proxy-middleware&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ›å»ºä»£ç†å¯¹è±¡å¹¶è½¬å‘è¯·æ±‚</span>
  <span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token operator">:</span> <span class="token string">&quot;http://example.com/&quot;</span><span class="token punctuation">,</span>
    changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token comment">// pathRewrite: {</span>
    <span class="token comment">//   // é€šè¿‡è·¯å¾„é‡å†™ï¼Œå»é™¤è¯·æ±‚è·¯å¾„ä¸­çš„ `/backend`</span>
    <span class="token comment">//   // ä¾‹å¦‚ /backend/user/login å°†è¢«è½¬å‘åˆ° http://backend-api.com/user/login</span>
    <span class="token comment">//   '^/api/': '/'</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">LastUpdated:</span> <span class="time">3/30/2022, 5:52:03 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/notebook/assets/js/app.ae596fb2.js" defer></script><script src="/notebook/assets/js/2.f546fd41.js" defer></script><script src="/notebook/assets/js/14.d332df12.js" defer></script><script src="/notebook/assets/js/3.5194bc92.js" defer></script>
  </body>
</html>
