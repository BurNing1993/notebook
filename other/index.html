<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Other | Notebook</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/notebook/logo.png">
    <link rel="manifest" href="/notebook/manifest.json">
    <link rel="apple-touch-icon" href="/notebook/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/notebook/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Notebook,笔记">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/notebook/assets/css/0.styles.30a3181b.css" as="style"><link rel="preload" href="/notebook/assets/js/app.fadb15a0.js" as="script"><link rel="preload" href="/notebook/assets/js/2.f546fd41.js" as="script"><link rel="preload" href="/notebook/assets/js/14.23b427bf.js" as="script"><link rel="preload" href="/notebook/assets/js/3.5194bc92.js" as="script"><link rel="prefetch" href="/notebook/assets/js/10.a3ac9f5f.js"><link rel="prefetch" href="/notebook/assets/js/11.dbc06298.js"><link rel="prefetch" href="/notebook/assets/js/12.902b60dd.js"><link rel="prefetch" href="/notebook/assets/js/13.bf7f6b29.js"><link rel="prefetch" href="/notebook/assets/js/15.5eff2cbe.js"><link rel="prefetch" href="/notebook/assets/js/16.8c5e9eda.js"><link rel="prefetch" href="/notebook/assets/js/17.cb26da37.js"><link rel="prefetch" href="/notebook/assets/js/18.a42eef60.js"><link rel="prefetch" href="/notebook/assets/js/19.ff9bfae5.js"><link rel="prefetch" href="/notebook/assets/js/4.e3e1e6db.js"><link rel="prefetch" href="/notebook/assets/js/5.0d10e945.js"><link rel="prefetch" href="/notebook/assets/js/6.73bbcf8d.js"><link rel="prefetch" href="/notebook/assets/js/7.f32cee4a.js"><link rel="prefetch" href="/notebook/assets/js/8.b9a58496.js"><link rel="prefetch" href="/notebook/assets/js/9.3bd47329.js">
    <link rel="stylesheet" href="/notebook/assets/css/0.styles.30a3181b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notebook/" class="home-link router-link-active"><!----> <span class="site-name">Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notebook/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notebook/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/notebook/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/notebook/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/notebook/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/notebook/html/" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/notebook/css/" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/notebook/interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/notebook/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Other
</a></div><div class="nav-item"><a href="/notebook/components/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="https://github.com/BurNing1993/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notebook/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notebook/vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/notebook/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/notebook/js/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/notebook/typescript/" class="nav-link">
  TypeScript
</a></div><div class="nav-item"><a href="/notebook/html/" class="nav-link">
  Html
</a></div><div class="nav-item"><a href="/notebook/css/" class="nav-link">
  Css
</a></div><div class="nav-item"><a href="/notebook/interview/" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/notebook/other/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Other
</a></div><div class="nav-item"><a href="/notebook/components/" class="nav-link">
  组件
</a></div><div class="nav-item"><a href="https://github.com/BurNing1993/notebook" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Other</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notebook/other/#vscode" class="sidebar-link">VSCode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#jsdoc" class="sidebar-link">JSDoc</a></li></ul></li><li><a href="/notebook/other/#eslint-配置" class="sidebar-link">ESLINT 配置</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#发布-npm-包" class="sidebar-link">发布 NPM 包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#登录" class="sidebar-link">登录</a></li></ul></li><li><a href="/notebook/other/#nginx" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#docker" class="sidebar-link">Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#dockerfile" class="sidebar-link">Dockerfile</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#网络" class="sidebar-link">网络</a></li></ul></li><li><a href="/notebook/other/#github-gh-page-action" class="sidebar-link">Github gh-page Action</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#github-gh-pages-deploy" class="sidebar-link">Github gh-pages deploy</a></li></ul></li><li><a href="/notebook/other/#shell" class="sidebar-link">Shell</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#模拟数据" class="sidebar-link">模拟数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#mock-js-json-server" class="sidebar-link">Mock.js + json-server</a></li></ul></li><li><a href="/notebook/other/#git-提交日志规范" class="sidebar-link">Git 提交日志规范</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#nginx-缓存配置" class="sidebar-link">Nginx 缓存配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notebook/other/#启用缓存" class="sidebar-link">启用缓存</a></li><li class="sidebar-sub-header"><a href="/notebook/other/#禁用缓存" class="sidebar-link">禁用缓存</a></li></ul></li><li><a href="/notebook/other/#springbootapp" class="sidebar-link">SpringBootApp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notebook/other/#vercel-proxy" class="sidebar-link">vercel proxy</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="other"><a href="#other" class="header-anchor">#</a> Other</h1> <h2 id="vscode"><a href="#vscode" class="header-anchor">#</a> VSCode</h2> <h3 id="jsdoc"><a href="#jsdoc" class="header-anchor">#</a> <a href="https://jsdoc.app/index.html" target="_blank" rel="noopener noreferrer">JSDoc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//@ts-check</span>

<span class="token comment">/** @type {import('playwright').Page} */</span>
<span class="token keyword">let</span> page<span class="token punctuation">;</span>
</code></pre></div><ul><li><a href="https://jsdoc.app/tags-type.html" target="_blank" rel="noopener noreferrer">@type<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/** @type {(string|Array.)} */</span>
<span class="token keyword">var</span> foo<span class="token punctuation">;</span>
<span class="token comment">/** @const {number} */</span>
<span class="token keyword">var</span> <span class="token constant">FOO</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><a href="https://jsdoc.app/tags-typedef.html" target="_blank" rel="noopener noreferrer">@typedef<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * A number, or a string containing a number.
 * @typedef {(number|string)} NumberLike
 */</span>

<span class="token comment">/**
 * Set the magic number.
 * @param {NumberLike} x - The magic number.
 */</span>
<span class="token keyword">function</span> <span class="token function">setMagicNumber</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="eslint-配置"><a href="#eslint-配置" class="header-anchor">#</a> ESLINT 配置</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//.eslintrc.js</span>
rules<span class="token operator">:</span><span class="token punctuation">{</span>
  semi<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//分号</span>
  <span class="token string">'comma-dangle'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//逗号(仅多行)</span>
  <span class="token string">'space-before-function-paren'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;named&quot;</span><span class="token operator">:</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;asyncArrow&quot;</span><span class="token operator">:</span> <span class="token string">&quot;always&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//方法前空格</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="发布-npm-包"><a href="#发布-npm-包" class="header-anchor">#</a> 发布 NPM 包</h2> <h3 id="登录"><a href="#登录" class="header-anchor">#</a> 登录</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> login
</code></pre></div><ul><li>查看账号</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">whoami</span>
</code></pre></div><ul><li>版本管理</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> version patch <span class="token comment"># 升级修订版本号</span>
<span class="token function">npm</span> version minor <span class="token comment"># 升级次版本号</span>
<span class="token function">npm</span> version major <span class="token comment"># 升级主版本号</span>
</code></pre></div><h2 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h2> <ol><li>静态资源代理</li></ol> <ul><li>基本配置</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen       <span class="token number">8888</span><span class="token punctuation">;</span>        <span class="token comment">#端口</span>
  server_name  localhost<span class="token punctuation">;</span>   <span class="token comment">#服务名</span>
  root  html<span class="token punctuation">;</span>               <span class="token comment">#显示的根索引目录</span>
  autoindex on<span class="token punctuation">;</span>             <span class="token comment">#开启索引功能</span>
  autoindex_exact_size off<span class="token punctuation">;</span> <span class="token comment">#关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb）</span>
  autoindex_localtime on<span class="token punctuation">;</span>   <span class="token comment">#显示本机时间而非GMT时间</span>
<span class="token punctuation">}</span>
docker run <span class="token punctuation">\</span>
--rm <span class="token punctuation">\</span>
--name static <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/html&quot;</span>:/usr/share/nginx/html <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/conf&quot;</span>:/etc/nginx
-p <span class="token number">8888</span>:80 <span class="token punctuation">\</span>
-d <span class="token punctuation">\</span>
nginx
</code></pre></div><ul><li>设置密码</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>htpasswd 命令是 Apache 的 Web 服务器内置工具，用于创建和更新储存用户名、域和用户基本认证的密码文件。</p></div> <p>htpasswd(选项)(参数)</p> <div class="language-sh extra-class"><pre class="language-sh"><code>-c：创建一个加密文件；
-n：不更新加密文件，只将加密后的用户名密码显示在屏幕上；
-m：默认采用MD5算法对密码进行加密；
-d：采用CRYPT算法对密码进行加密；
-p：不对密码进行进行加密，即明文密码；
-s：采用SHA算法对密码进行加密；
-b：在命令行中一并输入用户名和密码而不是根据提示输入密码；
-D：删除指定的用户。
</code></pre></div><p>实例</p> <div class="language-sh extra-class"><pre class="language-sh"><code>htpasswd -bc passwd.db admin  <span class="token number">123456</span> <span class="token comment">#在目录下生成一个passwd.db文件，用户名admin，密码：123456，默认采用MD5加密方式。</span>
htpasswd -b passwd.db  user <span class="token number">123456</span> <span class="token comment">#在原有密码文件中增加下一个用户</span>
</code></pre></div><p>Nginx 配置</p> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen  <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  localhost<span class="token punctuation">;</span>
  charset utf-8<span class="token punctuation">;</span>
  root html<span class="token punctuation">;</span>
  location / <span class="token punctuation">{</span>
      autoindex on<span class="token punctuation">;</span> <span class="token comment"># 索引</span>
      autoindex_exact_size on<span class="token punctuation">;</span> <span class="token comment"># 显示文件大小</span>
      autoindex_localtime on<span class="token punctuation">;</span> <span class="token comment"># 显示文件时间</span>
      auth_basic <span class="token string">&quot;请输入用户名密码&quot;</span><span class="token punctuation">;</span>
      auth_basic_user_file /usr/share/nginx/passwd.db<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
docker run <span class="token punctuation">\</span>
--rm <span class="token punctuation">\</span>
--name static <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/html&quot;</span>:/usr/share/nginx/html <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/conf&quot;</span>:/etc/nginx <span class="token punctuation">\</span>
-v <span class="token string">&quot;<span class="token environment constant">$PWD</span>/passwd.db&quot;</span>:/usr/share/nginx/passwd.db <span class="token punctuation">\</span>
-p <span class="token number">8888</span>:80 <span class="token punctuation">\</span>
-d <span class="token punctuation">\</span>
nginx
</code></pre></div><ul><li>防盗链<div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>如果服务器的图片被别的网站盗链，将影响服务器的带宽以及访问速度，这时我们就需要设置图片文件或视频文件的防盗链功能。</p></div></li></ul> <p>防盗链功能，简单来说就是你可以直接访问该资源，但是不能将我的资源链接放到你自己的服务器上让别人访问，尤其是图片或视频这种比较大的文件，容易导致服务器响应很慢。</p> <p>要实现防盗链，需要了解 HTTP 协议中的请求头部的 Referer 头域和采用 URL 的格式表示访问当前网页或者文件的源地址。通过该头域的值，我们可以检测到访问目标资源的源地址。这样，如果我们检测到 Referer 头域中的值并不是自己站点内的 URL，就采取组织措施，实现防盗链。需要注意是，由于 Referer 头域中的值可以被更改的，因此该方法不能完全阻止所有盗链行为。
:::</p> <div class="language-sh extra-class"><pre class="language-sh"><code>server <span class="token punctuation">{</span>
  listen  <span class="token number">80</span><span class="token punctuation">;</span>
  server_name  xxx.com<span class="token punctuation">;</span>
  charset utf-8<span class="token punctuation">;</span>
  root /static<span class="token punctuation">;</span>
  <span class="token comment">#location指令用来映射请求到本地文件系统</span>
  location ~*^.+<span class="token punctuation">\</span>.<span class="token punctuation">(</span>gif<span class="token operator">|</span>jpg<span class="token operator">|</span>png<span class="token operator">|</span>jpeg<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
  expires     30d<span class="token punctuation">;</span>
  valid_referers none blocked  xxx.com<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$invalid_referer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">#return 403;</span>
      rewrite ^/ http://xxx/403.html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Nginx 配置中有一个指令 valid_referers，用来获取 Referer 头域中的值，并且根据该值的情况给 Nginx 全局变量$invalid_referer的值，如果Referer头域中没有符合valid_referers指令配置的值，$invalid_referer 变量将会被赋值为 1。</p></div> <p>valid_referer 指令的语法结构:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>valid_referers none <span class="token operator">|</span> blocked <span class="token operator">|</span> server_names <span class="token operator">|</span> string <span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">;</span>
none 检测Referer头域不存在的请求
blocked 检测Referer头域的值被防火墙或者代理服务器删除或伪装的情况。
这种情况下，该头域的值不以“http://”或者“https：//”开头
server_names 设置一个或多个URL,检测Referer头域的值是否是这些URL中的某个。
</code></pre></div><h2 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h2> <blockquote><p><a href="http://docs.nigeerhuo.com/docker/" target="_blank" rel="noopener noreferrer">Docker 绿皮书<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <ul><li><p><a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">centos<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">ubuntu<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <ol><li>docker images 镜像列表</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker images <span class="token comment">#镜像列表</span>
-a <span class="token comment">#列出本地所有的镜像（含中间映像层）</span>
-q <span class="token comment">#只显示镜像ID。</span>
--digests <span class="token comment">#显示镜像的摘要信息</span>
--no-trunc <span class="token comment"># 显示完整的镜像信息</span>
</code></pre></div><ol start="2"><li>docker search xx 搜索镜像</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker search tomcat <span class="token comment"># 搜索tomcat镜像</span>
----filter <span class="token assign-left variable">stars</span><span class="token operator">=</span>num
docker search --filter <span class="token assign-left variable">stars</span><span class="token operator">=</span><span class="token number">30</span> tomcat <span class="token comment"># 搜索start&gt;30的tomcat镜像</span>
</code></pre></div><ol start="3"><li><p>docker pull image [:TAG]</p></li> <li><p>docker rmi  imageID 删除镜像</p></li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code>docker rmi -f <span class="token variable"><span class="token variable">$(</span>docker images -qa<span class="token variable">)</span></span> <span class="token comment"># 删除全部镜像</span>
</code></pre></div><h3 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h3> <p>Dockerfile是用来构建Docker镜像的构建文件，是由一系列命令和参数构成的脚本。</p> <h4 id="构建步骤"><a href="#构建步骤" class="header-anchor">#</a> 构建步骤</h4> <ul><li>编写Dockerfile文件</li> <li>docker build [-f DockerfilePath] -t imageName:tag .</li></ul> <h4 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h4> <ul><li>FROM  基础镜像，当前新镜像是基于哪个镜像的</li> <li>MAINTAINER   镜像维护者的姓名和邮箱地址</li> <li>RUN   容器构建时需要运行的命令</li> <li>EXPOSE   当前容器对外暴露出的端口</li> <li>WORKDIR   指定在创建容器后，终端默认登陆的进来工作目录，一个落脚点</li> <li>ENV   用来在构建镜像过程中设置环境变量</li> <li>ADD   将宿主机目录下的文件拷贝进镜像且ADD命令会自动处理URL和解压tar压缩包</li> <li>COPY   将从构建上下文目录中 &lt;源路径&gt; 的文件/目录复制到新的一层的镜像内的 &lt;目标路径&gt; 位置</li> <li>VOLUME   容器数据卷，用于数据保存和持久化工作</li> <li>CMD   指定一个容器启动时要运行的命令 Dockerfile 中可以有多个 CMD 指令，但只有最后一个生效，CMD 会被 docker run 之后的参数替换</li> <li>ENTRYPOINT​ 指定一个容器启动时要运行的命令 ENTRYPOINT 的目的和CMD一样，都是在指定容器启动程序及参数</li> <li>ONBUILD 当构建一个被继承的Dockerfile时运行命令，父镜像在被子继承后父镜像的onbuild被触发</li></ul> <h3 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h3> <h4 id="docker容器互访"><a href="#docker容器互访" class="header-anchor">#</a> <a href="https://www.cnblogs.com/shenh/p/9714547.html" target="_blank" rel="noopener noreferrer">Docker容器互访<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h2 id="github-gh-page-action"><a href="#github-gh-page-action" class="header-anchor">#</a> <a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener noreferrer">Github gh-page Action<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <ol><li>react<div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>需要生成需要 GitHub 密钥,存储在 Secrets.ACCESS_TOKEN 中</p></div></li></ol> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># .github/workflows/gh-pages.yml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> GitHub gh<span class="token punctuation">-</span>page Actions
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> master
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@master

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build and Deploy
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@master
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">ACCESS_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">BRANCH</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token key atrule">FOLDER</span><span class="token punctuation">:</span> build
          <span class="token key atrule">BUILD_SCRIPT</span><span class="token punctuation">:</span> npm install <span class="token important">&amp;&amp;</span> npm run build
</code></pre></div><h3 id="github-gh-pages-deploy"><a href="#github-gh-pages-deploy" class="header-anchor">#</a> Github gh-pages deploy</h3> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> --dev  gh-pages
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">//package.json  homepage</span>
<span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://xxx.github.io/project_name/&quot;</span><span class="token punctuation">,</span>
<span class="token comment">//  package.json  scripts +</span>
<span class="token property">&quot;predeploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn build&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gh-pages -d build&quot;</span> <span class="token comment">// build folder</span>
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> deploy
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>build fail 切换下分支再切回去</p></div> <h2 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h2> <ol><li>定义变量</li></ol> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;Joey&quot;</span>
</code></pre></div><ul><li><p>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</p></li> <li><p>中间不能有空格，可以使用下划线（_）。</p></li> <li><p>不能使用标点符号。</p></li> <li><p>不能使用 bash 里的关键字（可用 help 命令查看保留关键字）。</p></li></ul> <ol start="2"><li>使用变量</li></ol> <h2 id="模拟数据"><a href="#模拟数据" class="header-anchor">#</a> 模拟数据</h2> <h3 id="mock-js-json-server"><a href="#mock-js-json-server" class="header-anchor">#</a> Mock.js + json-server</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer">Mock.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/typicode/json-server#getting-started" target="_blank" rel="noopener noreferrer">json-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <h2 id="git-提交日志规范"><a href="#git-提交日志规范" class="header-anchor">#</a> Git 提交日志规范</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>
  (<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span>
    <span class="token punctuation">&gt;</span></span>) :
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subject</span>
      <span class="token punctuation">&gt;</span></span>//空一行
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        //空一行
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>subject</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>type 用于说明 commit 的类型，只允许使用下面 7 个标识</li></ul> <ol><li>feat: 新功能（feature）</li> <li>fix: 修补 Bug</li> <li>docs: 文档 （documention）</li> <li>style: 样式 （不影响代码运行的变动）</li> <li>refactor: 重构 （既不是新增功能，也不是修改 Bug 的代码变动）</li> <li>test: 增加测试</li> <li>chore: 构建过程或辅助工具的变动</li></ol> <ul><li><p>scope 用于说明 commit 影响的范围，比如数据层、控制层、视图层等，视项目不同而不同</p></li> <li><p>subject 是 commit 目的的简短描述，不超过 50 个字符</p></li> <li><p>body 部分是对本次 commit 的详细描述，可以分成多行</p></li> <li><p>footer 部分只用于两种情况</p></li></ul> <ol><li>不兼容变动时，以 BREAKING CHANGE 开头，后面是对变动的描述以及变动理由和迁移方法</li> <li>如果当前 commit 针对某个 issue ，那么可以在 footer 部分关闭这个 issue</li></ol> <h2 id="nginx-缓存配置"><a href="#nginx-缓存配置" class="header-anchor">#</a> <a href="https://www.digitalocean.com/community/tools/nginx" target="_blank" rel="noopener noreferrer">Nginx 缓存配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h2> <h3 id="启用缓存"><a href="#启用缓存" class="header-anchor">#</a> 启用缓存</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>server<span class="token punctuation">{</span>
  <span class="token punctuation">..</span>.
  <span class="token comment"># assets</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:css<span class="token punctuation">(</span><span class="token punctuation">\</span>.map<span class="token punctuation">)</span>?<span class="token operator">|</span>js<span class="token punctuation">(</span><span class="token punctuation">\</span>.map<span class="token punctuation">)</span>?<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    expires 3h<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># media</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:jpe?g<span class="token operator">|</span>png<span class="token operator">|</span>gif<span class="token operator">|</span>ico<span class="token operator">|</span>cur<span class="token operator">|</span>heic<span class="token operator">|</span>webp<span class="token operator">|</span>tiff?<span class="token operator">|</span>mp3<span class="token operator">|</span>m4a<span class="token operator">|</span>aac<span class="token operator">|</span>ogg<span class="token operator">|</span>midi?<span class="token operator">|</span>wav<span class="token operator">|</span>mp4<span class="token operator">|</span>mov<span class="token operator">|</span>webm<span class="token operator">|</span>mpe?g<span class="token operator">|</span>avi<span class="token operator">|</span>ogv<span class="token operator">|</span>flv<span class="token operator">|</span>wmv<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    expires 7d<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># svg, fonts</span>
  location ~* <span class="token punctuation">\</span>.<span class="token punctuation">(</span>?:svgz?<span class="token operator">|</span>ttf<span class="token operator">|</span>ttc<span class="token operator">|</span>otf<span class="token operator">|</span>eot<span class="token operator">|</span>woff2?<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
    add_header Access-Control-Allow-Origin <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>
    expires 7d<span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="禁用缓存"><a href="#禁用缓存" class="header-anchor">#</a> 禁用缓存</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>server<span class="token punctuation">{</span>
  <span class="token punctuation">..</span>.
  location ~ .*<span class="token punctuation">\</span>.<span class="token punctuation">(</span>gif<span class="token operator">|</span>jpg<span class="token operator">|</span>jpeg<span class="token operator">|</span>png<span class="token operator">|</span>bmp<span class="token operator">|</span>swf<span class="token operator">|</span>js<span class="token operator">|</span>css<span class="token punctuation">)</span>$ <span class="token punctuation">{</span>
  <span class="token comment">#禁止缓存，每次都从服务器请求</span>
    add_header Cache-Control no-store<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="springbootapp"><a href="#springbootapp" class="header-anchor">#</a> SpringBootApp</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 打包</span>
<span class="token builtin class-name">cd</span> 项目跟目录（和pom.xml同级）
mvn clean package
<span class="token comment">## 或者执行下面的命令</span>
<span class="token comment">## 排除测试代码后进行打包</span>
mvn clean package  -Dmaven.test.skip<span class="token operator">=</span>true
<span class="token comment">#  指定端口</span>
java -jar app.jar  --server.port<span class="token operator">=</span><span class="token number">8000</span>
<span class="token comment"># 后台运行</span>
<span class="token function">nohup</span> java -jar XXX.jar <span class="token operator">&amp;</span>
<span class="token comment">#  选择读取不同的配置文件</span>
java -jar app.jar --spring.profiles.active<span class="token operator">=</span>dev
<span class="token comment"># 设置 jvm 参数</span>
java -Xms10m -Xmx80m -jar app.jar <span class="token operator">&amp;</span>
</code></pre></div><h2 id="vercel-proxy"><a href="#vercel-proxy" class="header-anchor">#</a> <a href="https://vercel.com/" target="_blank" rel="noopener noreferrer">vercel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> proxy</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// vercel.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;rewrites&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/(.*)&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;destination&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/api/proxy&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// /api/proxy.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> createProxyMiddleware <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建代理对象并转发请求</span>
  <span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    target<span class="token operator">:</span><span class="token string">'http://example.com/'</span><span class="token punctuation">,</span>
    changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// pathRewrite: {</span>
    <span class="token comment">//   // 通过路径重写，去除请求路径中的 `/backend`</span>
    <span class="token comment">//   // 例如 /backend/user/login 将被转发到 http://backend-api.com/user/login</span>
    <span class="token comment">//   '^/api/': '/'</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">LastUpdated:</span> <span class="time">12/17/2021, 10:33:37 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/notebook/assets/js/app.fadb15a0.js" defer></script><script src="/notebook/assets/js/2.f546fd41.js" defer></script><script src="/notebook/assets/js/14.23b427bf.js" defer></script><script src="/notebook/assets/js/3.5194bc92.js" defer></script>
  </body>
</html>
